<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mapa Polski ok. 1650 r. – Interaktywne prowincje</title>
  <style>
    :root {
      --bg: #0f172a;          /* slate-900 */
      --panel: #111827ee;     /* gray-900 */
      --card: #0b1221cc;      /* dark translucent */
      --accent: #eab308;      /* amber-500 */
      --muted: #94a3b8;       /* slate-400 */
      --text: #e5e7eb;        /* gray-200 */
      --stroke: #061127;      /* deep navy */
      --shadow: 0 10px 30px rgba(0,0,0,.4);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text); background: radial-gradient(1200px 600px at 60% -10%, #1f2a4a 0%, #0b1020 35%, var(--bg) 100%);
    }

    header {
      position: sticky; top: 0; z-index: 5;
      backdrop-filter: blur(10px); background: #0b1020aa; border-bottom: 1px solid #1f2937;
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 14px 20px; display: flex; align-items: center; gap: 14px; }
    h1 { font-size: clamp(18px, 2.4vw, 28px); margin: 0; letter-spacing: .3px; }
    .note { color: var(--muted); font-size: .95rem; margin-left: auto; }

    main { max-width: 1200px; margin: 18px auto; padding: 0 20px 40px; display: grid; grid-template-columns: 1.6fr .95fr; gap: 18px; }
    @media (max-width: 960px) { main { grid-template-columns: 1fr; } }

    .map-card, .info-card { background: var(--card); border: 1px solid #1f2937; border-radius: 16px; box-shadow: var(--shadow); }

    .map-card { position: relative; overflow: hidden; }
    .map-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid #1f2937; }
    .map-header h2 { margin: 0; font-size: 1.05rem; color: #cbd5e1; }

    .actions { display: flex; gap: 10px; align-items: center; }
    button, .legend button { cursor: pointer; border: 1px solid #334155; background: #0f172a; color: #e2e8f0; padding: 8px 12px; border-radius: 10px; font-weight: 600; transition: .2s ease; }
    button:hover, .legend button:hover { background: #111827; border-color: #475569; }

    .svg-wrap { position: relative; padding: 14px; }
    svg { width: 100%; height: auto; display: block; filter: drop-shadow(0 16px 24px rgba(0,0,0,.35)); }

    .region { stroke: #0b1221; stroke-width: 2; vector-effect: non-scaling-stroke; fill-opacity: .92; transition: transform .15s ease, filter .2s ease, fill-opacity .2s ease; cursor: pointer; outline: none; }
    .region:hover { filter: brightness(1.1) saturate(1.1); }
    .region:focus-visible { outline: 3px solid #f59e0b; outline-offset: 2px; }
    .region.selected { stroke: #f59e0b; stroke-width: 3; filter: drop-shadow(0 0 0 rgba(0,0,0,0)); fill-opacity: 1; }

    .legend { display: flex; flex-wrap: wrap; gap: 8px; padding: 0 16px 16px; }
    .legend button { font-size: .9rem; }

    .info-card { padding: 16px; display: grid; gap: 12px; }
    .info-card h3 { margin: 2px 0 0; font-size: 1.2rem; }
    .info-card .subtitle { color: #cbd5e1; margin: 0; }
    .info-body { background: #0a0f1b; border: 1px solid #172036; border-radius: 12px; padding: 14px; line-height: 1.45; }
    .meta { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; }
    .meta div { background: #0d1424; border: 1px solid #1c2740; border-radius: 10px; padding: 10px; font-size: .95rem; }
    .muted { color: var(--muted); }

    footer { max-width: 1200px; margin: 20px auto 50px; padding: 0 20px; color: var(--muted); font-size: .9rem; }

    /* Tooltip */
    .tooltip { position: fixed; pointer-events: none; z-index: 10; background: #0b1221f2; border: 1px solid #1f2937; padding: 8px 10px; border-radius: 10px; font-size: .9rem; box-shadow: var(--shadow); transform: translate(-50%, calc(-100% - 14px)); opacity: 0; transition: opacity .12s ease; }
    .tooltip.shown { opacity: 1; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Mapa Polski ok. 1650 r. – interaktywne prowincje (schematycznie)</h1>
      <p class="note">Kliknij na region lub skorzystaj z legendy.</p>
    </div>
  </header>

  <main>
    <section class="map-card" aria-describedby="map-desc">
      <div class="map-header">
        <h2>Mapa (schemat niegeograficzny)</h2>
        <div class="actions">
          <button id="resetBtn" type="button" aria-label="Wyczyść zaznaczenie">Reset</button>
        </div>
      </div>

      <div class="svg-wrap">
        <svg viewBox="0 0 1633 1137" role="img" aria-labelledby="map-title" aria-describedby="map-desc">
          <title id="map-title">Rzeczpospolita Obojga Narodów ok. 1650 r. – uproszczony podział</title>
          <desc id="map-desc">Uproszczona, poglądowa mapa z pięcioma regionami: Prusy, Wielkopolska, Małopolska, Litwa, Ukraina. Granice i kształty są przybliżone, służą wyłącznie interakcji.</desc>

          <!-- REGIONY (układ poglądowy) -->
          <!-- PRUSY -->
          <path id="r-prusy" class="region" tabindex="0" data-key="prusy" fill="#38bdf8" d="M 329 512.1875 L 386 464.1875 L 403 471.1875 L 400 491.1875 L 416 493.1875 L 422 485.1875 L 446 494.1875 L 469 486.1875 L 524 481.1875 L 548 456.1875 L 566 441.1875 L 569 407.1875 L 576 392.1875 L 576 381.1875 L 587 373.1875 L 565 344.1875 L 569 321.1875 L 548 303.1875 L 531 305.1875 L 531 297.1875 L 514 292.1875 L 508 267.1875 L 499 261.1875 L 497 276.1875 L 504 298.1875 L 511 300.1875 L 511 308.1875 L 501 314.1875 L 497 342.1875 L 488 338.1875 L 488 347.1875 L 467 337.1875 L 461 340.1875 L 463 330.1875 L 452 335.1875 L 415 337.1875 L 417 357.1875 L 439 363.1875 L 410 388.1875 L 391 392.1875 L 364 394.1875 L 346 391.1875 L 333 382.1875 L 310 376.1875 L 316 359.1875 L 340 372.1875 L 335 359.1875 L 320 350.1875 L 308 362.1875 L 302 351.1875 L 298 386.1875 L 276 400.1875 L 262 417.1875 L 259 427.1875 L 241 422.1875 L 217 425.1875 L 220 448.1875 L 207 466.1875 L 224 482.1875 L 238 494.1875 L 266 485.1875 L 300 502.1875 L 329 512.1875 Z"/>


          <!-- WIELKOPOLSKA -->
          <path id="r-wielkopolska" class="region" tabindex="0" data-key="wielkopolska" fill="#60a5fa" d="M 189 463.1875 L 206 472.1875 L 240 497.1875 L 263 486.1875 L 276 498.1875 L 323 511.1875 L 362 486.1875 L 384 465.1875 L 402 472.1875 L 400 489.1875 L 412 496.1875 L 423 485.1875 L 452 494.1875 L 469 484.1875 L 519 482.1875 L 540 457.1875 L 568 443.1875 L 569 421.1875 L 595 430.1875 L 618 491.1875 L 647 516.1875 L 626 547.1875 L 596 560.1875 L 588 597.1875 L 565 605.1875 L 557 628.1875 L 520 597.1875 L 487 624.1875 L 433 633.1875 L 403 634.1875 L 357 646.1875 L 326 678.1875 L 260 709.1875 L 245 695.1875 L 243 674.1875 L 207 640.1875 L 198 631.1875 L 194 613.1875 L 167 624.1875 L 122 615.1875 L 120 584.1875 L 89 559.1875 L 94 545.1875 L 154 523.1875 L 172 517.1875 L 173 504.1875 L 177 473.1875 L 189 463.1875 Z"/>


          <!-- MAŁOPOLSKA -->
          <path id="r-malopolska" class="region" tabindex="0" data-key="malopolska" fill="#a78bfa" d="M 360 645.1875 L 399 635.1875 L 427 641.1875 L 466 628.1875 L 480 631.1875 L 512 599.1875 L 550 624.1875 L 566 644.1875 L 594 644.1875 L 608 651.1875 L 648 638.1875 L 665 650.1875 L 643 675.1875 L 656 702.1875 L 619 732.1875 L 615 757.1875 L 659 751.1875 L 694 772.1875 L 700 799.1875 L 727 789.1875 L 769 797.1875 L 803 818.1875 L 865 797.1875 L 871 807.1875 L 883 808.1875 L 867 826.1875 L 869 861.1875 L 866 890.1875 L 840 917.1875 L 821 899.1875 L 783 911.1875 L 765 909.1875 L 764 898.1875 L 690 892.1875 L 691 908.1875 L 679 930.1875 L 665 936.1875 L 660 968.1875 L 630 965.1875 L 593 948.1875 L 520 896.1875 L 494 899.1875 L 474 886.1875 L 437 871.1875 L 422 854.1875 L 379 854.1875 L 346 870.1875 L 303 850.1875 L 280 844.1875 L 277 825.1875 L 276 810.1875 L 269 794.1875 L 273 776.1875 L 266 760.1875 L 276 739.1875 L 263 721.1875 L 256 707.1875 L 286 696.1875 L 314 683.1875 L 337 669.1875 L 358 645.1875 Z"/>


          <!-- LITWA -->
          <path id="r-litwa" class="region" tabindex="0" data-key="litwa" fill="#34d399" d="M 570 413.1875 L 574 393.1875 L 575 381.1875 L 589 376.1875 L 566 346.1875 L 569 328.1875 L 542 303.1875 L 532 302.1875 L 531 297.1875 L 521 294.1875 L 514 291.1875 L 510 263.1875 L 495 263.1875 L 498 243.1875 L 490 220.1875 L 518 216.1875 L 525 220.1875 L 535 211.1875 L 548 211.1875 L 569 203.1875 L 574 208.1875 L 594 198.1875 L 621 210.1875 L 627 222.1875 L 652 204.1875 L 680 216.1875 L 702 209.1875 L 709 217.1875 L 738 214.1875 L 754 233.1875 L 771 244.1875 L 831 236.1875 L 845 221.1875 L 887 219.1875 L 901 229.1875 L 931 207.1875 L 949 205.1875 L 974 200.1875 L 985 208.1875 L 1014 204.1875 L 1044 218.1875 L 1070 219.1875 L 1101 206.1875 L 1121 250.1875 L 1123 284.1875 L 1137 304.1875 L 1134 322.1875 L 1139 357.1875 L 1136 376.1875 L 1178 425.1875 L 1179 456.1875 L 1190 488.1875 L 1183 514.1875 L 1162 529.1875 L 1177 565.1875 L 1163 584.1875 L 1142 600.1875 L 1123 591.1875 L 1103 595.1875 L 1080 603.1875 L 1033 615.1875 L 942 631.1875 L 922 628.1875 L 895 653.1875 L 844 640.1875 L 822 637.1875 L 822 631.1875 L 790 653.1875 L 783 661.1875 L 734 653.1875 L 728 643.1875 L 695 654.1875 L 663 656.1875 L 663 642.1875 L 644 637.1875 L 611 646.1875 L 591 642.1875 L 566 646.1875 L 557 634.1875 L 562 604.1875 L 588 598.1875 L 595 563.1875 L 625 553.1875 L 629 538.1875 L 651 523.1875 L 615 491.1875 L 594 429.1875 L 570 415.1875 Z"/>


          <!-- UKRAINA -->
          <path id="r-ukraina" class="region" tabindex="0" data-key="ukraina" fill="#f472b6" d="M 661 657.1875 L 680 657.1875 L 704 648.1875 L 717 642.1875 L 734 650.1875 L 783 662.1875 L 791 653.1875 L 820 633.1875 L 839 640.1875 L 892 651.1875 L 920 630.1875 L 954 631.1875 L 1072 602.1875 L 1088 604.1875 L 1128 585.1875 L 1150 613.1875 L 1141 646.1875 L 1179 649.1875 L 1221 652.1875 L 1249 648.1875 L 1267 671.1875 L 1290 674.1875 L 1301 689.1875 L 1303 713.1875 L 1303 731.1875 L 1289 745.1875 L 1332 759.1875 L 1344 794.1875 L 1338 829.1875 L 1360 850.1875 L 1340 897.1875 L 1269 917.1875 L 1251 956.1875 L 1236 981.1875 L 1154 992.1875 L 1123 983.1875 L 1107 981.1875 L 1086 985.1875 L 1048 997.1875 L 1008 988.1875 L 977 959.1875 L 941 956.1875 L 886 965.1875 L 853 979.1875 L 847 953.1875 L 842 912.1875 L 870 881.1875 L 874 863.1875 L 870 854.1875 L 866 825.1875 L 882 809.1875 L 870 807.1875 L 869 798.1875 L 806 815.1875 L 764 793.1875 L 723 783.1875 L 706 799.1875 L 696 783.1875 L 693 763.1875 L 668 746.1875 L 624 758.1875 L 613 755.1875 L 613 734.1875 L 659 705.1875 L 638 675.1875 L 660 657.1875 Z"/>

        </svg>
      </div>

      <div class="legend" aria-label="Legenda – skróty do regionów">
        <button data-jump="prusy" aria-label="Zaznacz: Prusy">Prusy</button>
        <button data-jump="wielkopolska" aria-label="Zaznacz: Wielkopolska">Wielkopolska</button>
        <button data-jump="malopolska" aria-label="Zaznacz: Małopolska">Małopolska</button>
        <button data-jump="litwa" aria-label="Zaznacz: Litwa">Litwa</button>
        <button data-jump="ukraina" aria-label="Zaznacz: Ukraina">Ukraina</button>
      </div>

      <div class="tooltip" id="tooltip" role="tooltip" aria-hidden="true"></div>
    </section>

    <aside class="info-card" aria-live="polite" aria-atomic="true">
      <p class="subtitle">Szczegóły</p>
      <h3 id="regionTitle">Wybierz region</h3>
      <div class="info-body" id="regionContent">
        <p>Wybierz jeden z regionów na mapie, aby zobaczyć krótki opis i przykładowe ośrodki miejskie. To <strong>schemat poglądowy</strong> – nie odwzorowuje dokładnie granic z 1650 roku, ale pozwala szybko przełączać się między <em>Prusami</em>, <em>Wielkopolską</em>, <em>Małopolską</em>, <em>Litwą</em> i <em>Ukrainą</em>.</p>
      </div>
      <div class="meta">
        <div>
          <strong>Okres:</strong><br>
          ok. 1650 r. (Rzeczpospolita Obojga Narodów)
        </div>
        <div>
          <strong>Uwaga:</strong><br>
          Granice uproszczone – do celów interaktywnych.
        </div>
      </div>
    </aside>
  </main>

  <footer>
    <p>Źródło inspiracji historycznej: powszechnie dostępna wiedza o podziale Korony i WKL na prowincje (ujęcie uproszczone). Chcesz podmienić schemat na <em>prawdziwą mapę</em>? Podepnij obraz/plik SVG historyczny – struktura strony już to obsłuży.</p>
  </footer>

  <script>
    // Dane opisowe regionów (krótko i poglądowo)
    const REGIONS = {
      prusy: {
        name: "Prusy",
        blurb: "Region nadbałtycki (Prusy Królewskie i Książęce – w połowie XVII w. w zależności lennej/zależnej).",
        cities: ["Gdańsk", "Toruń", "Elbląg"],
        notes: "Silny handel morski, miasta lokowane na prawie niemieckim, port w Gdańsku kluczowy dla eksportu zboża."
      },
      wielkopolska: {
        name: "Wielkopolska",
        blurb: "Historyczne centrum państwowości polskiej, rozległe ziemie wokół Poznania i Kalisza.",
        cities: ["Poznań", "Kalisz", "Gniezno"],
        notes: "Żyzne ziemie, gęsta sieć grodów i miast; ważne trakty handlowe łączące zachód i centrum."
      },
      malopolska: {
        name: "Małopolska",
        blurb: "Południowo-środkowa prowincja Korony z głównym ośrodkiem w Krakowie.",
        cities: ["Kraków", "Sandomierz", "Lublin"],
        notes: "Uniwersytet Krakowski, kopalnie soli, silne mieszczaństwo i kultura dworska."
      },
      litwa: {
        name: "Litwa",
        blurb: "Wielkie Księstwo Litewskie – część unii polsko‑litewskiej.",
        cities: ["Wilno", "Kowno", "Nowogródek"],
        notes: "Wielonarodowe ziemie, rozległe lasy i gospodarstwa folwarczne; ważna rola bojarów i magnaterii."
      },
      ukraina: {
        name: "Ukraina",
        blurb: "Wschodnie województwa Korony (m.in. kijowskie, bracławskie, czernihowskie).",
        cities: ["Kijów", "Bracław", "Czernihów"],
        notes: "Kresy – stepy i czarnoziemy; kozaczyzna, fortyfikacje nad Dnieprem i dynamiczna historia XVII w."
      }
    };

    const titleEl = document.getElementById('regionTitle');
    const contentEl = document.getElementById('regionContent');
    const tooltip = document.getElementById('tooltip');

    function setDetails(key) {
      const data = REGIONS[key];
      if (!data) return;
      titleEl.textContent = data.name;
      contentEl.innerHTML = `
        <p><strong>${data.name}</strong> – ${data.blurb}</p>
        <ul>
          <li><strong>Główne miasta:</strong> ${data.cities.join(', ')}</li>
          <li><strong>Notka:</strong> ${data.notes}</li>
        </ul>
      `;
    }

    function clearSelection() {
      document.querySelectorAll('.region.selected').forEach(n => n.classList.remove('selected'));
      titleEl.textContent = 'Wybierz region';
      contentEl.innerHTML = '<p>Wybierz jeden z regionów na mapie, aby zobaczyć krótki opis i przykładowe ośrodki miejskie.</p>';
    }

    function showTooltip(e, text) {
      tooltip.textContent = text;
      tooltip.style.left = e.clientX + 'px';
      tooltip.style.top = e.clientY + 'px';
      tooltip.classList.add('shown');
      tooltip.setAttribute('aria-hidden', 'false');
    }

    function hideTooltip() {
      tooltip.classList.remove('shown');
      tooltip.setAttribute('aria-hidden', 'true');
    }

    // Interakcje regionów
    document.querySelectorAll('.region').forEach(path => {
      const key = path.getAttribute('data-key');
      const name = REGIONS[key]?.name || key;

      path.addEventListener('click', () => {
        document.querySelectorAll('.region').forEach(n => n.classList.remove('selected'));
        path.classList.add('selected');
        setDetails(key);
      });

      path.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); path.click(); }
      });

      path.addEventListener('pointerenter', (e) => showTooltip(e, name));
      path.addEventListener('pointermove', (e) => showTooltip(e, name));
      path.addEventListener('pointerleave', hideTooltip);
      path.addEventListener('blur', hideTooltip);
    });

    // Legenda – skróty
    document.querySelectorAll('.legend button').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.getAttribute('data-jump');
        const target = document.querySelector(`[data-key="${key}"]`);
        if (target) { target.focus({preventScroll:false}); target.click(); }
      });
    });

    // Reset wyboru
    document.getElementById('resetBtn').addEventListener('click', clearSelection);
  </script>
</body>
</html>
